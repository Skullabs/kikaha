<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Learn Git with beginner to advanced Git tutorials on workflows, git commands, git migration and code review.">
<meta name="author" content="Atlassian">
<link rel="canonical" href="https://www.atlassian.com/git"/>
<title>Kikaha documentation</title>
<link rel="stylesheet" href="site.css"/>
<link href="https://fonts.googleapis.com/css?family=Sanchez:200,300,400,600" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Titillium+Web" rel="stylesheet">
<script src="showdown.min.js">
<script src="showdown-github.min.js">
<script>

</script>
</head>
<body class="wac git-home git">
<div class="header">
  <div class="container">
    <span class="k">k</span>
    <h1>Kikaha</h1>
    <a href="https://blog.kikaha.io">blog</a>
    <a href="https://github.com/Skullabs/kikaha">source code</a>
  </div>
</div>

<div class="page-wrap">
<div class="home-section home-about home-start">
<div class="g-row container">

<div class="g-column g-7-12 t-6-12 m-12-12">
<!-- CONTENT -->
<p>You can start using Kikaha without defining any configuration, since sensible default values are provided. Later on you might need to amend the settings to change the default behavior or adapt for specific runtime environments. Typical examples of settings that you might amend:</p>
<ul>
<li>Change listening port and address</li>
<li>Defining authentication rules</li>
<li>Configuring rewrite routes</li>
<li>Configuring reverse proxy routes</li>
</ul>
<p>Kikaha's configuration system was quite inspired on the Typesafe Config library. In fact, it served as the main configuration abstraction for Kikaha since its first version. Despite is was a very reliable and well tested library it also had a very verbose internal API, which made the code that relied on it hard to maintain. The new configuration abstraction is YML-based, but kept the best features from Config library, merging configuration files between modules.</p>
<h3 id="whereconfigurationisreadfrom">Where configuration is read from?</h3>
<p>Every Kikaha module has a <code>META-INF/defaults.yml</code> file. These files should contain all required configuration a module should had. During the server bootstrap all <code>defaults.yml</code> files found at the classpath are read and merged with all <code>conf/application.conf</code> files. This allow developers to write their custom <code>conf/application.yml</code> and place it on your project to change the server's default parameters.</p>
<p>If you are testing your source code, and need special configuration parameters in order to setup your test environment, you can create a file called <code>conf/application-test.yml</code>. Any parameter set there will override those set at your <code>conf/application.yml</code>.</p>
<h3 id="creatingaconfigurationfileforyourproject">Creating a configuration file for your project</h3>
<p>Any file placed at the <code>resources</code> folder will be available at the classpath of your application. You can create the <code>conf/application.yml</code> at that folder and overwrite any server parameter you need to get your application up and running.</p>
<p>Once it is a simple YML file, you can also put any extra parameter you want on it. The bellow sample code shows you how to consume a configuration entry from your <code>conf/application.yml</code> file.</p>
<pre><code class="java language-java">package sample;

import javax.inject.*;
import kikaha.config.Config;

@Singleton
class ASingletonServiceThatCanReadTheConfiguration {

  @Inject
  Config config;

  public String getIntegrationUsername(){
    return config.getString( "my-conf.integration.username" );
  }
}
</code></pre>
<h2 id="defaultconfigurationparameters">Default configuration parameters</h2>
<p>The bellow configuration file describes all the parameters Kikaha brings out-of-box. You can override it for any propose you need by creating your our <code>conf/application.yml</code> file and defining some configuration entries.</p>
<pre><code class="yml language-yml"># Default server configuration
server:

  # Websocket configuration
  websocket:
    # The default Content serializer for websocket responses
    default-serializer: "text/plain"
    # The default Content unserializer for websocket requests
    default-unserializer: "text/plain"
    # Defines the max number of threads to handle incomming websocket requests
    # If set to a number lower than 1, it will create a dynamic thread pool 
    # to handler requests.
    worker-threads: -1

  # HTTP listener configurations
  http:
    host: '0.0.0.0'
    port: 9000
    enabled: true

  # HTTPS listener configurations
  https:
    host: '0.0.0.0'
    port: 9001

    keystore: "server.keystore"
    truststore: "server.truststore"
    cert-security-provider: "TLS"
    keystore-security-provider: "JKS"
    password: "password"
    enabled: false

    redirect-to-http: true

  # Undertow internals
  undertow:
    io-threads: -1
    worker-threads: -1
    buffer-size: 1024

    server-options:
      ENABLE_STATISTICS: false
      RECORD_REQUEST_START_TIME: false

    socket-options:
      BACKLOG: 20000

  # Static asset routing
  static:
    enabled: false

  # Smart routes
  smart-routes:
    # Rewrite routes (empty by default)
    rewrite:
    # Reverse proxy routes (empty by default)
    reverse:
    # Request filtering (empty by default)
    filter:
    # CORS support
    cors:
      enabled: false
      always-allow-origin: false
      always-allow-credentials: false
      allowed-methods:
      allowed-hosts:

  # Authentication/Authorization
  auth:

    # Configuration for fixed-user-and-pass Identity Manager
    fixed-auth:
      username: "admin"
      password: "admin"
      role: "admin"

    # Configuration for Form-based AuthMechanism
    form-auth:
      login-page: "/auth/"
      error-page: "/auth/error/"
      permission-denied-page: ""

    security-context-factory: kikaha.core.modules.security.DefaultSecurityContextFactory

    # Available IdentityManagers
    identity-managers:
      default: kikaha.core.modules.security.FixedUserAndPasswordIdentityManager
      fixed: kikaha.core.modules.security.FixedUserAndPasswordIdentityManager

    # Available AuthMechanisms
    auth-mechanisms:
      basic: kikaha.core.modules.security.BasicAuthenticationMechanism
      form: kikaha.core.modules.security.FormAuthenticationMechanism

    # Auth rules (empty by default)
    rules:

  # Configuration for Mustache templates
  mustache:
    cache-templates: false

  # Configurations for micro-Routing API
  urouting:
    default-encoding: "UTF-8"
    default-content-type: "text/plain"
    exception-handler: kikaha.urouting.UnhandledExceptionHandler
</code></pre>
</div>

<div class="g-column g-4-12 t-6-12 m-12-12">
<div class="home-about--git-download-block">
<h3>Welcome</h3>
<!-- SIDE BAR -->
<p>WELCOME
<a href="About-kikaha.html">About</a>
<a href="Kikaha-Philosophy.html">Kikaha philosophy</a></p>
<p>GETTING STARTED
<a href="Getting-Started-in-1-Minute.html">Getting started in 1 minute</a>
<a href="Creating-a-Kikaha-maven-project.html">Creating a Kikaha maven project</a>
<a href="Logging-Configuration.html">Logging configuration</a>
<a href="Architecture-Overview.html">Architecture overview</a>
<a href="Configuring-the-server.html">Configuring the server</a></p>
<p>CORE FEATURES
<a href="HTTP-and-HTTPS.html">HTTP and HTTPS</a>
<a href="Routing-static-assets.html">Routing static assets</a>
<a href="Dependency-Injection.html">Dependency injection</a>
<a href="Authentication-and-Authorization.html">Authentication and authorization</a>
<a href="Smart-Routes.html">Smart routes</a></p>
<p>ESSENTIAL MODULES
<a href="uRouting-API.html">μRouting API</a>
<a href="Web-Socket-routing.html">WebSocket Routing</a>
<a href="Database-Access.html">Database Connection Pool</a>
<a href="JSON-with-Jackson.html">JSON with Jackson</a>
<a href="Proto-Buffers.html">Protobuf</a>
<a href="Mustache.html">Mustache Templates</a>
<a href="Rocker-Templates.html">Rocker Templates</a>
<a href="BCrypt.html">BCrypt</a></p>
<p>CLOUD MODULES
<a href="Consul.io.html">Consul.io</a>
<a href="Codahale-Metrics.html">Codahale's Metrics</a>
<a href="Auth0.html">Auth0 Single Sign-On</a>
<a href="uWorkers.html">μWorkers - Actor-like API</a>
<a href="Hazelcast.html">Hazelcast</a></p>
<p>AWS-RELATED MODULES
<a href="AWS-Related-Modules.html">Overview of AWS-Related Modules</a>
<a href="Deploying-Applications-to-AWS.html">Deploying Applications on AWS</a>
<a href="AWS-IAM-Credentials.html">AWS IAM Credentials</a>
<a href="https://github.com/Skullabs/kikaha/issues/new?labels=documentation&title=AWS+EC2&body=It+would+be+great+to+have+a+detailed+documentation+about+AWS+EC2..html">AWS EC2</a>
<a href="https://github.com/Skullabs/kikaha/issues/new?labels=documentation&title=AWS+SQS+Queues&body=It+would+be+great+to+have+a+detailed+documentation+about+AWS+SQS+Queues..html">AWS SQS queues</a>
<a href="https://github.com/Skullabs/kikaha/issues/new?labels=documentation&title=AWS+CloudWatch+Metrics&body=It+would+be+great+to+have+a+detailed+documentation+about+AWS+CloudWatch+Metrics..html">AWS CloudWatch metrics</a>
<a href="https://github.com/Skullabs/kikaha/issues/new?labels=documentation&title=AWS+ALB&body=It+would+be+great+to+have+a+detailed+documentation+about+AWS+Load+Balacer..html">AWS Application Load Balancer</a>
<a href="https://github.com/Skullabs/kikaha/issues/new?labels=documentation&title=AWS+Lambda&body=It+would+be+great+to+have+a+detailed+documentation+about+AWS+Lambda+Functions..html">AWS Lambda functions</a>
<a href="https://github.com/Skullabs/kikaha/issues/new?labels=documentation&title=AWS+X-RAY&body=It+would+be+great+to+have+a+detailed+documentation+about+AWS+X-RAY..html">AWS X-Ray</a></p>
<p>TUTORIALS
<a href="creating-your-first-http-route.html">Creating your first HTTP route</a>
<a href="kikahas-command-line-interface-tool.html">Kikaha's command line interface</a>
<a href="configuring-your-favorite-ide.html">Configuring your favorite IDE</a>
<a href="Kikaha-Wro4j-Integration.html">Wro4j Integration</a></p>
<p>ADVANCED TOPICS
<a href="Creating-Custom-Modules.html">Creating custom modules</a>
<a href="Routing-With-Undertow.html">Routing with Undertow's API</a>
<a href="Creating-Custom-Cloud-Modules.html">Creating custom cloud modules</a></p>
</div>
</div>

</div>
</div>
</div>
</body>
</html>
