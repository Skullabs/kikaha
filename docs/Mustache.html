<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Learn Git with beginner to advanced Git tutorials on workflows, git commands, git migration and code review.">
<meta name="author" content="Atlassian">
<link rel="canonical" href="https://www.atlassian.com/git"/>
<title>Kikaha documentation</title>
<link rel="stylesheet" href="site.css"/>
<link href="https://fonts.googleapis.com/css?family=Sanchez:200,300,400,600" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Titillium+Web" rel="stylesheet">
<script src="showdown.min.js">
<script src="showdown-github.min.js">
<script>

</script>
</head>
<body class="wac git-home git">
<div class="header">
  <div class="container">
    <span class="k">k</span>
    <h1>Kikaha</h1>
    <a href="https://blog.kikaha.io">blog</a>
    <a href="https://github.com/Skullabs/kikaha">source code</a>
  </div>
</div>

<div class="page-wrap">
<div class="home-section home-about home-start">
<div class="g-row container">

<div class="g-column g-7-12 t-6-12 m-12-12">
<!-- CONTENT -->
<h1 id="mustache">Mustache</h1>
<p>You can use Mustache templates in order to make your HTML more readable. Out-of-box, there is two ways which Kikaha allows developers to use Mustache: serving static templates or defining custom routes that renders mustache templates. Kikaha provides these features as a tiny layer above the <a href="https://github.com/samskivert/jmustache">JMustache</a> library. To enable this feature on your project include the following dependency on your project:</p>
<pre><code class="xml language-xml">&lt;dependency&gt;
  &lt;groupId&gt;io.skullabs.kikaha&lt;/groupId&gt;
  &lt;!-- formelly named kikaha-urouting-mustache on earlier versions --&gt;
  &lt;artifactId&gt;kikaha-mustache&lt;/artifactId&gt;
&lt;/dependency&gt;
</code></pre>
<h2 id="servingstaticmustachetemplates">Serving static Mustache templates</h2>
<p>Most of Single Page Applications (SPA) uses a single HTML page to render the entire application at the browser. Its possible to use Mustache to make the HTML file more readable. Static Mustache templates was designed to SPA, it does not take parameters (by default) but, allows developers to split its templates into small templates and include them as <strong><a href="https://mustache.github.io/mustache.5.html">partials</a></strong>.</p>
<p>By default, templates should be placed at the <code>webapp</code> folder. Any template that ends with <code>.mustache</code> extension will be automatically available with the same name, but with a new extension <code>.do</code>. For exemple, if you have a template named <code>login.mustache</code> placed at the <code>views/auth</code> folder (relative to the <code>webapp</code> directory), it will be automatically available as <code>http://localhost:9000/views/auth/login.do</code>.</p>
<h2 id="settingattributesonmustachetemplates">Setting attributes on Mustache templates</h2>
<p>Static mustache templates does not allows developers to set up attributes or values into the templates (except partials). To send attributes you have to create a route that set this programmatically.</p>
<pre><code class="java language-java">import kikaha.mustache.*;
import kikaha.urouting.api.*;
import javax.inject.*;
import java.util.*;
import lombok.*;

@Singleton
@Path( "profiles/detail" )
public class ProfileDetailResource {

  @GET
  @Path( "one" )
  @Produces( Mimes.HTML )
  public MustacheTemplate renderProfileTemplate1() {
    return new MustacheTemplate()
      .templateName( "profile-details.mustache" )
      .paramObject( new ProfileDetails( "World" ) );
  }

  @GET
  @Path( "two" )
  public Response renderProfileTemplate2(){
    return MustacheResponse.ok()
      .templateName( "profile-details.mustache" )
      .header("Name","World")
      .paramObject( new ProfileDetails( "World" ) );
  }
}

@Value
public class ProfileDetails {
  final String name;
}
</code></pre>
<pre><code class="html language-html">&lt;html&gt;
  &lt;body&gt;
    &lt;h1&gt;Hello,{{name}}!&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>At the above example there is two endpoints that renders a Mustache Template. Both performs the same task, and renders the same content. But, in a closer look its easy to identify that they have different designs and solves different needs.</p>
<p>The first endpoint, available at <code>http://localhost:9000/profiles/detail/one</code>, we will have the template <code>profiles-details.mustache</code> rendered, and the object <code>ProfileDetailes</code> will hold all parameters that the template needs to be rendered (attribute name, in this case).</p>
<p>The second approach, available at <code>http://localhost:9000/profiles/detail/two</code>, we will have a more flexible design. Similar to any <code>kikaha.urouting.api.Response</code>, the <code>kikaha.mustache.MustacheResponse</code> will allow developer to define custom HTTP Headers, Cookies and Status Code.</p>
<p>In both cases, <code>templateName</code> method defines which template will be rendered, and <code>paramObject</code> will hold the object that stores any value needed by the template. It could be any type that JMustache supports. You can see a detailed overview of which types could be rendered <strong><a href="https://github.com/samskivert/jmustache#usage">here</a></strong>.</p>
</div>

<div class="g-column g-4-12 t-6-12 m-12-12">
<div class="home-about--git-download-block">
<h3>Welcome</h3>
<!-- SIDE BAR -->
<p>WELCOME
<a href="About-kikaha.html">About</a>
<a href="Kikaha-Philosophy.html">Kikaha philosophy</a></p>
<p>GETTING STARTED
<a href="Getting-Started-in-1-Minute.html">Getting started in 1 minute</a>
<a href="Creating-a-Kikaha-maven-project.html">Creating a Kikaha maven project</a>
<a href="Architecture-Overview.html">Architecture overview</a></p>
<p>TUTORIALS
<a href="Logging-Configuration.html">Logging configuration</a>
<a href="Configuring-the-server.html">Configuring the server</a>
<a href="creating-your-first-http-route.html">Creating your first HTTP route</a>
<a href="kikahas-command-line-interface-tool.html">Kikaha's command line interface</a>
<a href="configuring-your-favorite-ide.html">Configuring your favorite IDE</a>
<a href="Kikaha-Wro4j-Integration.html">Wro4j Integration</a></p>
<p>CORE FEATURES
<a href="HTTP-and-HTTPS.html">HTTP and HTTPS</a>
<a href="Routing-static-assets.html">Routing static assets</a>
<a href="Dependency-Injection.html">Dependency injection</a>
<a href="Authentication-and-Authorization.html">Authentication and authorization</a>
<a href="Smart-Routes.html">Smart routes</a></p>
<p>ESSENTIAL MODULES
<a href="uRouting-API.html">μRouting API</a>
<a href="Web-Socket-routing.html">WebSocket Routing</a>
<a href="Database-Access.html">Database Connection Pool</a>
<a href="JSON-with-Jackson.html">JSON with Jackson</a>
<a href="Proto-Buffers.html">Protobuf</a>
<a href="Mustache.html">Mustache Templates</a>
<a href="Rocker-Templates.html">Rocker Templates</a>
<a href="BCrypt.html">BCrypt</a></p>
<p>CLOUD MODULES
<a href="Consul.io.html">Consul.io</a>
<a href="Codahale-Metrics.html">Codahale's Metrics</a>
<a href="Auth0.html">Auth0 Single Sign-On</a>
<a href="uWorkers.html">μWorkers - Actor-like API</a>
<a href="Hazelcast.html">Hazelcast</a></p>
<p>AWS-RELATED MODULES
<a href="AWS-Related-Modules.html">Overview of AWS-Related Modules</a>
<a href="Deploying-Applications-to-AWS.html">Deploying Applications on AWS</a>
<a href="AWS-IAM-Credentials.html">AWS IAM Credentials</a>
<a href="https://github.com/Skullabs/kikaha/issues/new?labels=documentation&title=AWS+EC2&body=It+would+be+great+to+have+a+detailed+documentation+about+AWS+EC2..html">AWS EC2</a>
<a href="https://github.com/Skullabs/kikaha/issues/new?labels=documentation&title=AWS+SQS+Queues&body=It+would+be+great+to+have+a+detailed+documentation+about+AWS+SQS+Queues..html">AWS SQS queues</a>
<a href="https://github.com/Skullabs/kikaha/issues/new?labels=documentation&title=AWS+CloudWatch+Metrics&body=It+would+be+great+to+have+a+detailed+documentation+about+AWS+CloudWatch+Metrics..html">AWS CloudWatch metrics</a>
<a href="https://github.com/Skullabs/kikaha/issues/new?labels=documentation&title=AWS+ALB&body=It+would+be+great+to+have+a+detailed+documentation+about+AWS+Load+Balacer..html">AWS Application Load Balancer</a>
<a href="https://github.com/Skullabs/kikaha/issues/new?labels=documentation&title=AWS+Lambda&body=It+would+be+great+to+have+a+detailed+documentation+about+AWS+Lambda+Functions..html">AWS Lambda functions</a>
<a href="https://github.com/Skullabs/kikaha/issues/new?labels=documentation&title=AWS+X-RAY&body=It+would+be+great+to+have+a+detailed+documentation+about+AWS+X-RAY..html">AWS X-Ray</a></p>
<p>ADVANCED TOPICS
<a href="Creating-Custom-Modules.html">Creating custom modules</a>
<a href="Routing-With-Undertow.html">Routing with Undertow's API</a>
<a href="Creating-Custom-Cloud-Modules.html">Creating custom cloud modules</a></p>
</div>
</div>

</div>
</div>
</div>
</body>
</html>
