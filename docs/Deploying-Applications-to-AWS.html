<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Learn Git with beginner to advanced Git tutorials on workflows, git commands, git migration and code review.">
<meta name="author" content="Atlassian">
<link rel="canonical" href="https://www.atlassian.com/git"/>
<title>Kikaha documentation</title>
<link rel="stylesheet" href="site.css"/>
<link href="https://fonts.googleapis.com/css?family=Sanchez:200,300,400,600" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Titillium+Web" rel="stylesheet">
<script src="showdown.min.js">
<script src="showdown-github.min.js">
<script>

</script>
</head>
<body class="wac git-home git">
<div class="header">
  <div class="container">
    <span class="k">k</span>
    <h1>Kikaha</h1>
    <a href="https://blog.kikaha.io">blog</a>
    <a href="https://github.com/Skullabs/kikaha">source code</a>
  </div>
</div>

<div class="page-wrap">
<div class="home-section home-about home-start">
<div class="g-row container">

<div class="g-column g-7-12 t-6-12 m-12-12">
<!-- CONTENT -->
<h1 id="deployingapplicationsonaws">Deploying applications on AWS</h1>
<p>There are many ways to deploy AWS applications. On this guide we will talk about S3 and Code Deploy and how we would be able to use both of them to automate your deployment routine.</p>
<blockquote>
  <p>Before you go further, ensure you have your IAM credentials properly <a href="AWS-IAM-Credentials.html">configured on your application</a> and EC2 instances.</p>
</blockquote>
<h1 id="deployartifactstoawss3">Deploy artifacts to AWS S3</h1>
<p>You can easily send your project artifact to a S3 bucket. Here are the steps you need to do:</p>
<ol>
<li><p>Create a <a href="http://docs.aws.amazon.com/AmazonS3/latest/gsg/CreatingABucket.html">S3 Bucket</a>. On this guide, we will assume you have named your bucket as 'deployment-bucket'.</p></li>
<li><p>Create an IAM Policy (or update an already created one) and make sure that grants the following <em>actions</em>:</p></li>
</ol>
<pre><code class="json language-json">"s3:PutObject"
</code></pre>
<ol start="3">
<li>Copy and paste the following properties on you project definition file (pom.xml).</li>
</ol>
<pre><code class="xml language-xml">&lt;config.plugins.aws.s3.enabled&gt;true&lt;/config.plugins.aws.s3.enabled&gt;
&lt;config.plugins.aws.s3.region&gt;us-east-1&lt;/config.plugins.aws.s3.region&gt;
&lt;config.plugins.aws.s3.bucket&gt;deployment-bucket&lt;/config.plugins.aws.s3.bucket&gt;
&lt;config.plugins.jar.enabled&gt;true&lt;/config.plugins.jar.enabled&gt;
</code></pre>
<p>Notes about S3 plugin:</p>
<ul>
<li>config.plugins.aws.s3.enabled: it turns on the S3 deployment plugin</li>
<li>config.plugins.aws.s3.region: is region your bucket is actually placed</li>
<li>config.plugins.aws.s3.bucket: the bucket name the plugin should send the artifact</li>
</ul>
<p>Notes about the Jar plugin:</p>
<ul>
<li>config.plugins.jar.enabled: if true, will generate a runnable jar from your project. </li>
</ul>
<ol>
<li>Run 'kikaha deploy' or 'mvn clean deploy' in order to send your just generated artifact to the S3 bucket.</li>
</ol>
<h2 id="deployartifactsthroughawscodedeploy">Deploy artifacts through AWS Code Deploy</h2>
<p>Although we can easily deploy anything to S3, you probably will notice there is a lot more to do in order to ensure your application is up and running right after you deploy it to an S3 bucket.
The best to get it done easily is CodeDeploy. So, lets take a see how we can setup a Kikaha project to deploy applications with CodeDeploy.</p>
<ol>
<li><p>Follow the guide above and configure your project to deploy on S3. AWS CodeDeploy can retrieve artifacts from S3 buckets and deploy them on your EC2 instances.</p></li>
<li><p>Follow <strong>only</strong> the two following steps from this <a href="http://docs.aws.amazon.com/codedeploy/latest/userguide/deployment-steps.html">AWS CodeDeploy Guide</a>. We will assume you created an Application Deployment named 'microservice1.example.com' and a deployment group named 'production':</p></li>
</ol>
<ul>
<li>Configure your instances: it covers how to make your instances ready to receive a deployable artifact and start it once a deployment is ready to be deployed.</li>
<li>Creating Your Application and Deployment Groups.</li>
</ul>
<ol>
<li>Once you've configured the S3 deployment, include the following properties on your pom.xml file.</li>
</ol>
<pre><code class="xml language-xml">&lt;config.plugins.aws.s3.useCodeDeploy&gt;true&lt;/config.plugins.aws.s3.useCodeDeploy&gt;
&lt;config.plugins.aws.s3.codeDeployApplicationName&gt;microservice1.example.com&lt;/config.plugins.aws.s3.codeDeployApplicationName&gt;
&lt;config.plugins.aws.s3.codeDeployDeploymentGroupName&gt;production&lt;/config.plugins.aws.s3.codeDeployDeploymentGroupName&gt;
</code></pre>
<p>Notes about the CodeDeploy plugin:</p>
<ul>
<li>config.plugins.aws.s3.useCodeDeploy: if true, will notify your Application Deployment that a new revision is ready</li>
<li>config.plugins.aws.s3.codeDeployApplicationName: the Application Deployment</li>
<li>config.plugins.aws.s3.codeDeployDeploymentGroupName: the deployment group you defined for this app</li>
</ul>
<ol>
<li>If everything went right, you should be able to run 'kikaha deploy' or 'mvn clean deploy' and see your EC2 instances being automatically updated.</li>
</ol>
</div>

<div class="g-column g-4-12 t-6-12 m-12-12">
<div class="home-about--git-download-block">
<h3>Welcome</h3>
<!-- SIDE BAR -->
<p>WELCOME
<a href="About-kikaha.html">About</a>
<a href="Kikaha-Philosophy.html">Kikaha philosophy</a></p>
<p>GETTING STARTED
<a href="Getting-Started-in-1-Minute.html">Getting started in 1 minute</a>
<a href="Creating-a-Kikaha-maven-project.html">Creating a Kikaha maven project</a>
<a href="Architecture-Overview.html">Architecture overview</a></p>
<p>TUTORIALS
<a href="Logging-Configuration.html">Logging configuration</a>
<a href="Configuring-the-server.html">Configuring the server</a>
<a href="creating-your-first-http-route.html">Creating your first HTTP route</a>
<a href="kikahas-command-line-interface-tool.html">Kikaha's command line interface</a>
<a href="configuring-your-favorite-ide.html">Configuring your favorite IDE</a>
<a href="Kikaha-Wro4j-Integration.html">Wro4j Integration</a></p>
<p>CORE FEATURES
<a href="HTTP-and-HTTPS.html">HTTP and HTTPS</a>
<a href="Routing-static-assets.html">Routing static assets</a>
<a href="Dependency-Injection.html">Dependency injection</a>
<a href="Authentication-and-Authorization.html">Authentication and authorization</a>
<a href="Smart-Routes.html">Smart routes</a></p>
<p>ESSENTIAL MODULES
<a href="uRouting-API.html">μRouting API</a>
<a href="Web-Socket-routing.html">WebSocket Routing</a>
<a href="Database-Access.html">Database Connection Pool</a>
<a href="JSON-with-Jackson.html">JSON with Jackson</a>
<a href="Proto-Buffers.html">Protobuf</a>
<a href="Mustache.html">Mustache Templates</a>
<a href="Rocker-Templates.html">Rocker Templates</a>
<a href="BCrypt.html">BCrypt</a></p>
<p>CLOUD MODULES
<a href="Consul.io.html">Consul.io</a>
<a href="Codahale-Metrics.html">Codahale's Metrics</a>
<a href="Auth0.html">Auth0 Single Sign-On</a>
<a href="uWorkers.html">μWorkers - Actor-like API</a>
<a href="Hazelcast.html">Hazelcast</a></p>
<p>AWS-RELATED MODULES
<a href="AWS-Related-Modules.html">Overview of AWS-Related Modules</a>
<a href="Deploying-Applications-to-AWS.html">Deploying Applications on AWS</a>
<a href="AWS-IAM-Credentials.html">AWS IAM Credentials</a>
<a href="https://github.com/Skullabs/kikaha/issues/new?labels=documentation&title=AWS+EC2&body=It+would+be+great+to+have+a+detailed+documentation+about+AWS+EC2..html">AWS EC2</a>
<a href="https://github.com/Skullabs/kikaha/issues/new?labels=documentation&title=AWS+SQS+Queues&body=It+would+be+great+to+have+a+detailed+documentation+about+AWS+SQS+Queues..html">AWS SQS queues</a>
<a href="https://github.com/Skullabs/kikaha/issues/new?labels=documentation&title=AWS+CloudWatch+Metrics&body=It+would+be+great+to+have+a+detailed+documentation+about+AWS+CloudWatch+Metrics..html">AWS CloudWatch metrics</a>
<a href="https://github.com/Skullabs/kikaha/issues/new?labels=documentation&title=AWS+ALB&body=It+would+be+great+to+have+a+detailed+documentation+about+AWS+Load+Balacer..html">AWS Application Load Balancer</a>
<a href="https://github.com/Skullabs/kikaha/issues/new?labels=documentation&title=AWS+Lambda&body=It+would+be+great+to+have+a+detailed+documentation+about+AWS+Lambda+Functions..html">AWS Lambda functions</a>
<a href="https://github.com/Skullabs/kikaha/issues/new?labels=documentation&title=AWS+X-RAY&body=It+would+be+great+to+have+a+detailed+documentation+about+AWS+X-RAY..html">AWS X-Ray</a></p>
<p>ADVANCED TOPICS
<a href="Creating-Custom-Modules.html">Creating custom modules</a>
<a href="Routing-With-Undertow.html">Routing with Undertow's API</a>
<a href="Creating-Custom-Cloud-Modules.html">Creating custom cloud modules</a></p>
</div>
</div>

</div>
</div>
</div>
</body>
</html>
